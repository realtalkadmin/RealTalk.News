{"version":3,"sources":["bargraph/template.js","choropleth/template.js","scatterplot/template.js","twitter/template.js","contact/template.js","imageslider/template.js","share/template.js"],"names":["drawBargraph","block","json","find","val","container","get","color","attr","spacing","data","JSON","parse","margin","top","right","bottom","left","width","height","x","d3","scale","ordinal","rangeRoundBands","y","linear","range","xAxis","svg","axis","orient","yAxis","ticks","select","append","domain","map","d","label","max","value","call","selectAll","style","enter","rangeBand","drawMap","snowball","window","parent","path","pluginsUrl","quantize","parseInt","palette","colorbrewer","mapType","file","projection","geo","albersUsa","equirectangular","empty","geomap","choropleth","geofile","column","unitId","translate","colors","legend","datum","draw","drawScatterplot","size","dataset","xdata","ydata","forEach","push","X","Y","chart","main","g","i","createTweet","tweet","id","theme","linkColor","cards","conversation","twttr","widgets","align","$","document","ready","choropleths","each","this","jQuery","on","form","closest","to","subject","confirmation","message","others","not","action","post","adminUrl","response","text","css","e","labelLeft","labelRight","rect","getBoundingClientRect","position","pageX","hide","show","url","button","windowLeft","screen","windowTop","opts","hasClass","encodeURIComponent","title","excerpt","open","length","getScript"],"mappings":"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","file":"templates.min.js","sourcesContent":["(function($) {\n  $(document).ready(function() {\n\n    var choropleths = $(\".snowball-block-bargraph\");\n    choropleths.each(function() {\n      drawBargraph($(this));\n    });\n\n  });\n})(jQuery);\n\nfunction drawBargraph(block) {\n  var json = block.find(\".json\").val();\n  var container = block.find(\".chart\").get(0);\n  var color = block.find(\".chart\").attr(\"data-fill\");\n  var spacing = block.find(\".spacing\").val();\n  var data = JSON.parse(json);\n  var valuesArray = [];\n\n  var margin = {top: 40, right: 40, bottom: 60, left: 30};\n  var width = 800 - margin.left - margin.right;\n  var height = 400 - margin.top - margin.bottom;\n\n  var x = d3.scale.ordinal().rangeRoundBands([0, width], spacing);\n  var y = d3.scale.linear().range([height, 0]);\n\n  var xAxis = d3.svg.axis()\n      .scale(x)\n      .orient(\"bottom\");\n  var yAxis = d3.svg.axis()\n      .scale(y)\n      .orient(\"left\")\n      .ticks(10);\n\n  var svg = d3.select(container).append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n    .append(\"g\")\n      .attr(\"transform\",\n            \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    x.domain(data.map(function(d) { return d.label; }));\n    y.domain([0, d3.max(data, function(d) { return d.value; })]);\n\n    svg.append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(xAxis);\n\n    svg.append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .call(yAxis);\n\n    svg.selectAll(\"path, line\")\n      .style(\"fill\", \"none\")\n      .style(\"stroke\", \"black\");\n\n    svg.selectAll(\"bar\")\n        .data(data)\n      .enter().append(\"rect\")\n        .style(\"fill\", color)\n        .attr(\"x\", function(d) { return x(d.label); })\n        .attr(\"width\", x.rangeBand())\n        .attr(\"y\", function(d) { return y(d.value); })\n        .attr(\"height\", function(d) { return height - y(d.value); });\n}","(function($) {\n  $(document).ready(function() {\n\n    var choropleths = $(\".snowball-block-choropleth\");\n    choropleths.each(function() {\n      drawMap($(this));\n    });\n\n  });\n})(jQuery);\n\n\nfunction drawMap(block) {\n  var snowball = snowball || window.parent.snowball;\n  var path = snowball.pluginsUrl + \"/lib/d3-geomap\";\n\n  var json = block.find(\".json-usa\").val();\n  var container = block.find(\".map\").get(0);\n  var quantize = parseInt(block.find(\"input.quantize\").val());\n  var color = block.find(\"input.color\").val();\n  var palette = colorbrewer[color][quantize];\n\n  var mapType = block.find(\".map-type\").val();\n  var file = path + \"/topojson/countries/USA.json\";\n  var projection = d3.geo.albersUsa;\n  var scale = 800;\n\n  if (mapType === \"world\") {\n    json = block.find(\".json-world\").val();\n    file = path + \"/topojson/world/countries.json\";\n    projection = d3.geo.equirectangular;\n    scale = 100;\n  }\n\n  if (json) {\n    block.find(\".map\").empty();\n\n    var map = d3.geomap.choropleth()\n      .geofile(file)\n      .projection(projection)\n      .column(\"Value\")\n      .unitId(\"fips\")\n      .scale(scale)\n      .translate([400, 200])\n      .colors(palette)\n      .legend(true);\n\n     var svg = d3.select(container)\n       .datum(JSON.parse(json))\n       .call(map.draw, map)\n       .select(\"svg\").attr(\"preserveAspectRatio\", \"xMinYMin meet\").attr(\"viewBox\", \"0 0 500 400\");\n\n    svg.select(\"rect\").style(\"fill\", \"none\");\n  }\n}\n","(function($) {\n  $(document).ready(function() {\n\n    var choropleths = $(\".snowball-block-scatterplot\");\n    choropleths.each(function() {\n      drawScatterplot($(this));\n    });\n\n  });\n})(jQuery);\n\nfunction drawScatterplot(block) {\n  var json = block.find(\".json\").val();\n\n  if (json) {\n    var container = block.find(\".chart\").get(0);\n    var size = block.find(\".size\").val();\n    var color = block.find(\".chart\").attr(\"data-fill\");\n    var data = JSON.parse(json);\n    var dataset = [];\n    var xdata = [];\n    var ydata = [];\n\n    data.forEach(function(d) {\n      dataset.push([d.X, d.Y]);\n      xdata.push(d.X);\n      ydata.push(d.Y);\n    });\n\n    var margin = {top: 40, right: 40, bottom: 60, left: 60};\n    var width = 800 - margin.left - margin.right;\n    var height = 400 - margin.top - margin.bottom;\n\n    var x = d3.scale.linear()\n              .domain([0, d3.max(xdata)])\n              .range([ 0, width ]);\n\n    var y = d3.scale.linear()\n              .domain([0, d3.max(ydata)])\n              .range([ height, 0 ]);\n\n    var chart = d3.select(container)\n      .append('svg:svg')\n      .attr('width', width + margin.right + margin.left)\n      .attr('height', height + margin.top + margin.bottom)\n      .attr('class', 'chart');\n\n    var main = chart.append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n      .attr('width', width)\n      .attr('height', height)\n      .attr('class', 'main');\n\n    var xAxis = d3.svg.axis()\n      .scale(x)\n      .orient('bottom');\n\n    main.append('g')\n      .attr('transform', 'translate(0,' + height + ')')\n      .attr('class', 'main axis date')\n      .call(xAxis);\n\n    var yAxis = d3.svg.axis()\n      .scale(y)\n      .orient('left');\n\n    main.append('g')\n      .attr('transform', 'translate(0,0)')\n      .attr('class', 'main axis date')\n      .call(yAxis);\n\n    main.selectAll(\"path, line\")\n      .style(\"fill\", \"none\")\n      .style(\"stroke\", \"black\");\n\n    var g = main.append(\"svg:g\"); \n\n    g.selectAll(\"scatter-dots\")\n      .data(ydata)\n      .enter().append(\"svg:circle\")\n        .style(\"fill\", color)\n        .attr(\"cy\", function (d) { return y(d); } )\n        .attr(\"cx\", function (d,i) { return x(xdata[i]); } )\n        .attr(\"r\", size);\n\n  }\n}\n","(function($) {\n\n  if($(\".snowball-block-twitter\").length > 0) {\n    var url = \"https://platform.twitter.com/widgets.js\";\n\n    $.getScript(url, function() {\n      $(\".snowball-block-twitter\").each(function() {\n        createTweet($(this));\n      }); \n    });\n  }\n\n})(jQuery);\n\nfunction createTweet(block) {\n  var tweet = block.find(\".tweet\").empty();\n  var id = tweet.attr(\"data-id\");\n\n  if (id) {\n    var theme = tweet.attr(\"data-theme\");\n    var linkColor = tweet.attr(\"data-linkColor\");\n    var cards = tweet.attr(\"data-cards\") ? tweet.attr(\"data-cards\") : \"show\";\n    var conversation = tweet.attr(\"data-conversation\") ? tweet.attr(\"data-conversation\") : \"show\";\n \n    twttr.widgets.createTweet(id, tweet[0], \n      {\n        theme: theme,\n        linkColor: linkColor,\n        cards: cards,\n        conversation: conversation,\n        align: \"center\"\n      });\n  }\n}\n","(function($) {\n  $(document).ready(function() {\n\n    $(\"body\").on(\"click\", \".snowball-block-contact .submit\", function() {\n      var form = $(this).closest(\"form\");\n      var to = form.find(\"[name='to']\").val();\n      var subject = form.find(\"[name='subject']\").val();\n      var confirmation = form.find(\"[name='confirmation']\").val();\n      var message = \"\";\n      var others = form.find(\"input, textarea\").not(\"[type='hidden']\");\n\n      others.each(function() {\n        var val = $(this).val();\n\n        if ($(this).attr(\"name\")) {\n          message = message + \"\\n\\n\" + $(this).attr(\"name\") + \": \" + val;\n        } else {\n          message = message + \"\\n\\n\" + val;\n        }\n      });\n\n      var data = {\n        action: \"mail_before_submit\",\n        to: to,\n        subject: subject,\n        message: message\n      };\n\n      if (window.parent) {\n        snowball = window.parent.snowball;\n      }\n\n      jQuery.post(snowball.adminUrl + \"admin-ajax.php\", data, function(response) {\n        form.text(confirmation);\n      });\n    });\n\n  });\n})(jQuery);\n","(function($) {\n\n  $(document).ready(function() {\n    $(\".snowball-block-imageslider .left\").css(\"width\", \"50%\");\n  });\n\n  $(document).on(\"mousemove\", \".snowball-block-imageslider .wrapper\", function(e) {\n    var block = $(this).closest(\".snowball-block\");\n    var left = block.find(\".left\")[0];\n    var right = block.find(\"img\")[0];\n    var labelLeft = block.find(\".label-left\");\n    var labelRight = block.find(\".label-right\");\n    var rect = right.getBoundingClientRect();\n    var position = ((e.pageX - rect.left) / rect.width)*100;\n\n    if (position <= 100) {\n      left.style.width = position + \"%\";\n\n      if (position <= 20) {\n        labelLeft.hide();\n      } else {\n        labelLeft.show();\n      }\n\n      if (position >= 80) {\n        labelRight.hide();\n      } else {\n        labelRight.show();\n      }\n    }\n  });\n\n})(jQuery);\n","(function($) {\n  $(document).ready(function() {\n\n    $(\"body\").on(\"click\", \".snowball-block-share .button\", function() {\n      var snowball = snowball || window.parent.snowball;\n      var button = jQuery(this);\n      var width = 500;\n      var height = 400;\n      var windowLeft = (screen.width/2) - (width/2);\n      var windowTop = (screen.height/2) - (height/2);\n      var opts = \"toolbar=0,status=0,width=\" + width + \",height=\" + height + \",top=\" + windowTop + \",left=\" + windowLeft;\n      var url;\n\n      if (button.hasClass(\"facebook\")) {\n        url = \"http://www.facebook.com/sharer.php?u=\" + encodeURIComponent(snowball.url);\n      } else if (button.hasClass(\"twitter\")) {\n        url = \"http://twitter.com/share?url=\" + encodeURIComponent(snowball.url) + \"&text=\" + encodeURIComponent(snowball.title);\n      } else if (button.hasClass(\"tumblr\")) {\n        url = \"https://www.tumblr.com/widgets/share/tool?posttype=link&canonicalUrl=\" + encodeURIComponent(snowball.url) + \"&title=\" + encodeURIComponent(snowball.title) + \"&content=\" + encodeURIComponent(snowball.excerpt);\n      } else {\n        url = \"https://plus.google.com/share?url=\" + encodeURIComponent(snowball.url);\n      }\n\n      window.open(url, \"share\", opts);\n    });\n\n  });\n})(jQuery);\n"]}